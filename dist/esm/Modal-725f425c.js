import{c as e}from"./index-9df135be.js";import{a as t,o,b as r,u as n,l as a,c as s,r as i,d as l}from"./InputGroupContext-6eee73f3.js";import{d as c,c as d,e as u,q as m,u as h,a as f}from"./useWindow-4fdbb8fb.js";import{a as p,b as g,F as b,t as v}from"./DateFormatsHelper-d15d1bbb.js";import*as y from"react";import{forwardRef as E,useState as w,useRef as N,useImperativeHandle as x,useEffect as k,useCallback as T,useContext as R,useMemo as C}from"react";import O from"react-dom";import{u as D,i as B,r as S,h as F}from"./hasClass-b4e58e9d.js";import{jsx as L,Fragment as M,jsxs as j}from"react/jsx-runtime";import{u as A,a as $}from"./ThemeProvider-7619b1ec.js";import{C as W}from"./StackedImages-fef8acf7.js";var H,P=t=>y.forwardRef(((o,r)=>L("div",{...o,ref:r,className:e(o.className,t)})));function I(e){if((!H&&0!==H||e)&&t){var o=document.createElement("div");o.style.position="absolute",o.style.top="-9999px",o.style.width="50px",o.style.height="50px",o.style.overflow="scroll",document.body.appendChild(o),H=o.offsetWidth-o.clientWidth,document.body.removeChild(o)}return H}function K(e){void 0===e&&(e=o());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(t){return e.body}}const z=c("modal-open");var V=class{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:o=!1}={}){this.handleContainerOverflow=t,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[o]:r.style[o]},e.scrollBarWidth&&(t[o]=`${parseInt(p(r,o)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(z,""),p(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(z),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}};const U=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let _;function q(e){const t=d(),o=e||function(e){return _||(_=new V({ownerDocument:null==e?void 0:e.document})),_}(t),r=N({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>o.add(r.current),remove:()=>o.remove(r.current),isTopModal:()=>o.isTopModal(r.current),setDialogRef:T((e=>{r.current.dialog=e}),[]),setBackdropRef:T((e=>{r.current.backdrop=e}),[])})}const G=E(((e,o)=>{let{show:i=!1,role:l="dialog",className:c,style:m,children:h,backdrop:f=!0,keyboard:p=!0,onBackdropClick:b,onEscapeKeyDown:v,transition:E,runTransition:T,backdropTransition:R,runBackdropTransition:C,autoFocus:F=!0,enforceFocus:A=!0,restoreFocus:$=!0,restoreFocusOptions:W,renderDialog:H,renderBackdrop:P=(e=>L("div",Object.assign({},e))),manager:I,container:z,onShow:V,onHide:_=(()=>{}),onExit:G,onExited:J,onExiting:Q,onEnter:X,onEntering:Y,onEntered:Z}=e,ee=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,U);const te=d(),oe=D(z),re=q(I),ne=u(),ae=r(i),[se,ie]=w(!i),le=N(null);x(o,(()=>re),[re]),t&&!ae&&i&&(le.current=K(null==te?void 0:te.document)),i&&se&&ie(!1);const ce=n((()=>{if(re.add(),pe.current=a(document,"keydown",he),fe.current=a(document,"focus",(()=>setTimeout(ue)),!0),V&&V(),F){var e,t;const o=K(null!=(e=null==(t=re.dialog)?void 0:t.ownerDocument)?e:null==te?void 0:te.document);re.dialog&&o&&!s(re.dialog,o)&&(le.current=o,re.dialog.focus())}})),de=n((()=>{var e;(re.remove(),null==pe.current||pe.current(),null==fe.current||fe.current(),$)&&(null==(e=le.current)||null==e.focus||e.focus(W),le.current=null)}));k((()=>{i&&oe&&ce()}),[i,oe,ce]),k((()=>{se&&de()}),[se,de]),g((()=>{de()}));const ue=n((()=>{if(!A||!ne()||!re.isTopModal())return;const e=K(null==te?void 0:te.document);re.dialog&&e&&!s(re.dialog,e)&&re.dialog.focus()})),me=n((e=>{e.target===e.currentTarget&&(null==b||b(e),!0===f&&_())})),he=n((e=>{p&&B(e)&&re.isTopModal()&&(null==v||v(e),e.defaultPrevented||_())})),fe=N(),pe=N();if(!oe)return null;const ge=Object.assign({role:l,ref:re.setDialogRef,"aria-modal":"dialog"===l||void 0},ee,{style:m,className:c,tabIndex:-1});let be=H?H(ge):L("div",Object.assign({},ge,{children:y.cloneElement(h,{role:"document"})}));be=S(E,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:G,onExiting:Q,onExited:(...e)=>{ie(!0),null==J||J(...e)},onEnter:X,onEntering:Y,onEntered:Z,children:be});let ve=null;return f&&(ve=P({ref:re.setBackdropRef,onClick:me}),ve=S(R,C,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ve})),L(M,{children:O.createPortal(j(M,{children:[ve,be]}),oe)})}));G.displayName="Modal";var J=Object.assign(G,{Manager:V});function Q(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const X=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Y=".sticky-top",Z=".navbar-toggler";class ee extends V{adjustAndStore(e,t,o){const r=t.style[e];t.dataset[e]=r,p(t,{[e]:`${parseFloat(p(t,e))+o}px`})}restore(e,t){const o=t.dataset[e];void 0!==o&&(delete t.dataset[e],p(t,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var o,r;if(r="modal-open",(o=t).classList?o.classList.add(r):F(o,r)||("string"==typeof o.className?o.className=o.className+" "+r:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";m(t,X).forEach((t=>this.adjustAndStore(n,t,e.scrollBarWidth))),m(t,Y).forEach((t=>this.adjustAndStore(a,t,-e.scrollBarWidth))),m(t,Z).forEach((t=>this.adjustAndStore(a,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var o,r;r="modal-open",(o=t).classList?o.classList.remove(r):"string"==typeof o.className?o.className=Q(o.className,r):o.setAttribute("class",Q(o.className&&o.className.baseVal||"",r));const n=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";m(t,X).forEach((e=>this.restore(n,e))),m(t,Y).forEach((e=>this.restore(a,e))),m(t,Z).forEach((e=>this.restore(a,e)))}}let te;const oe=y.forwardRef((({className:t,bsPrefix:o,as:r="div",...n},a)=>(o=A(o,"modal-body"),L(r,{ref:a,className:e(t,o),...n}))));oe.displayName="ModalBody";var re=oe;var ne=y.createContext({onHide(){}});const ae=y.forwardRef((({bsPrefix:t,className:o,contentClassName:r,centered:n,size:a,fullscreen:s,children:i,scrollable:l,...c},d)=>{const u=`${t=A(t,"modal")}-dialog`;return L("div",{...c,ref:d,className:e(u,o,a&&`${t}-${a}`,n&&`${u}-centered`,l&&`${u}-scrollable`,s&&("string"==typeof s?`${t}-fullscreen-${s}`:`${t}-fullscreen`)),children:L("div",{className:e(`${t}-content`,r),children:i})})}));ae.displayName="ModalDialog";var se=ae;const ie=y.forwardRef((({className:t,bsPrefix:o,as:r="div",...n},a)=>(o=A(o,"modal-footer"),L(r,{ref:a,className:e(t,o),...n}))));ie.displayName="ModalFooter";var le=ie;var ce=y.forwardRef((({closeLabel:e="Close",closeVariant:t,closeButton:o=!1,onHide:r,children:a,...s},i)=>{const l=R(ne),c=n((()=>{null==l||l.onHide(),null==r||r()}));return j("div",{ref:i,...s,children:[a,o&&L(W,{"aria-label":e,variant:t,onClick:c})]})}));const de=y.forwardRef((({bsPrefix:t,className:o,closeLabel:r="Close",closeButton:n=!1,...a},s)=>(t=A(t,"modal-header"),L(ce,{ref:s,...a,className:e(o,t),closeLabel:r,closeButton:n}))));de.displayName="ModalHeader";var ue=de;const me=P("h4"),he=y.forwardRef((({className:t,bsPrefix:o,as:r=me,...n},a)=>(o=A(o,"modal-title"),L(r,{ref:a,className:e(t,o),...n}))));he.displayName="ModalTitle";var fe=he;function pe(e){return L(b,{...e,timeout:null})}function ge(e){return L(b,{...e,timeout:null})}const be=y.forwardRef((({bsPrefix:r,className:a,style:s,dialogClassName:c,contentClassName:d,children:u,dialogAs:m=se,"data-bs-theme":p,"aria-labelledby":b,"aria-describedby":y,"aria-label":E,show:x=!1,animation:k=!0,backdrop:R=!0,keyboard:O=!0,onEscapeKeyDown:D,onShow:B,onHide:S,container:F,autoFocus:M=!0,enforceFocus:j=!0,restoreFocus:W=!0,restoreFocusOptions:H,onEntered:P,onExit:K,onExiting:z,onEnter:V,onEntering:U,onExited:_,backdropClassName:q,manager:G,...Q},X)=>{const[Y,Z]=w({}),[oe,re]=w(!1),ae=N(!1),ie=N(!1),le=N(null),[ce,de]=h(),ue=f(X,de),me=n(S),he=$();r=A(r,"modal");const fe=C((()=>({onHide:me})),[me]);function be(){return G||(e={isRTL:he},te||(te=new ee(e)),te);var e}function ve(e){if(!t)return;const r=be().getScrollbarWidth()>0,n=e.scrollHeight>o(e).documentElement.clientHeight;Z({paddingRight:r&&!n?I():void 0,paddingLeft:!r&&n?I():void 0})}const ye=n((()=>{ce&&ve(ce.dialog)}));g((()=>{i(window,"resize",ye),null==le.current||le.current()}));const Ee=()=>{ae.current=!0},we=e=>{ae.current&&ce&&e.target===ce.dialog&&(ie.current=!0),ae.current=!1},Ne=()=>{re(!0),le.current=v(ce.dialog,(()=>{re(!1)}))},xe=e=>{"static"!==R?ie.current||e.target!==e.currentTarget?ie.current=!1:null==S||S():(e=>{e.target===e.currentTarget&&Ne()})(e)},ke=T((t=>L("div",{...t,className:e(`${r}-backdrop`,q,!k&&"show")})),[k,q,r]),Te={...s,...Y};Te.display="block";return L(ne.Provider,{value:fe,children:L(J,{show:x,ref:ue,backdrop:R,container:F,keyboard:!0,autoFocus:M,enforceFocus:j,restoreFocus:W,restoreFocusOptions:H,onEscapeKeyDown:e=>{O?null==D||D(e):(e.preventDefault(),"static"===R&&Ne())},onShow:B,onHide:S,onEnter:(e,t)=>{e&&ve(e),null==V||V(e,t)},onEntering:(e,t)=>{null==U||U(e,t),l(window,"resize",ye)},onEntered:P,onExit:e=>{null==le.current||le.current(),null==K||K(e)},onExiting:z,onExited:e=>{e&&(e.style.display=""),null==_||_(e),i(window,"resize",ye)},manager:be(),transition:k?pe:void 0,backdropTransition:k?ge:void 0,renderBackdrop:ke,renderDialog:t=>L("div",{role:"dialog",...t,style:Te,className:e(a,r,oe&&`${r}-static`,!k&&"show"),onClick:R?xe:void 0,onMouseUp:we,"data-bs-theme":p,"aria-label":E,"aria-labelledby":b,"aria-describedby":y,children:L(m,{...Q,onMouseDown:Ee,className:c,contentClassName:d,children:u})})})})}));be.displayName="Modal";var ve=Object.assign(be,{Body:re,Header:ue,Title:fe,Footer:le,Dialog:se,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{ve as M,P as d};
//# sourceMappingURL=Modal-725f425c.js.map
